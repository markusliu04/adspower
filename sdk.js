!function(){const r="https://sdk.partnershare.net/pro/index.css",a="https://sdk.partnershare.net/pro/index.js";let s={ParamID:"",UserID:"",UserInfo:"",StartTime:"",close:!1,submit:!1,ApiUrl:"https://api.saasbase.cn",data:null,lang:""},n=!1;window.PartnershareScore={open:function(){null==s.data?d(!0):o()},close:function(){document.getElementById("partnershare_sdk").style.transform="translateY(400px)",setTimeout(()=>{document.getElementById("partnershare_sdk").style.display="none";var e=JSON.parse(window.localStorage.getItem("partnershare_sdk_data"));e.close=!0,e.StartTime=(new Date).getTime(),window.localStorage.setItem("partnershare_sdk_data",JSON.stringify(e))},1e3)},language:function(e){document.getElementById("partnershare_sdk")?document.getElementById("partnershare_sdk").contentWindow.languageSwitch(e):(s.lang=e,window.localStorage.setItem("partnershare_sdk_data",JSON.stringify(s)))},showIframe:function(){n=!0,document.getElementById("partnershare_sdk").style.display="",document.getElementById("partnershare_sdk").style.transform="translateY(0px)"},setUser:function(e){s.UserInfo=e,window.localStorage.setItem("partnershare_sdk_data",JSON.stringify(s))},onButton:null};var e,t=document.getElementById("partnershare_script").src;function d(r){let a=new XMLHttpRequest;a.open("get",s.ApiUrl+"/seller/plugin-api/get-setting?id="+s.ParamID),a.send(),a.onreadystatechange=function(){var e,t;200==a.status&&4==a.readyState&&(e=JSON.parse(a.responseText).data,s.data=e,window.localStorage.setItem("partnershare_sdk_data",JSON.stringify(s)),(r||(t=((new Date).getTime()-s.StartTime)/864e5,!s.close&&t>Number(e.event_install_day)||s.close&&t>Number(e.event_close_day)))&&o())}}function o(){var e=document.createElement("iframe"),e=(document.getElementById("partnershare_sdk")?(document.getElementById("partnershare_sdk").style.display="",n&&setTimeout(()=>{document.getElementById("partnershare_sdk").style.transform="translateY(0px)",document.getElementById("partnershare_sdk").contentWindow.vueReset()},200)):(e.id="partnershare_sdk",e.style.width="100%",e.style.height="300px",e.style.margin="0",e.style.padding="0",e.style.overflow="hidden",e.style.position="fixed",e.style.bottom="0px",e.style.left="0px",e.style.right="0px",e.style.border="none",e.style.zIndex="999999",e.style.transform="translateY(320px)",e.style.boxShadow="#aaa 0 20px 15px 15px",e.style.transition="transform ease 0.8s",e.srcdoc=`<link rel="stylesheet" href="${r}"><div id="app"></div><script  src="${a}"></script>`,document.querySelector("body").appendChild(e)),window.PartnershareScore.dom=document.getElementById("partnershare_sdk"),new FormData),t=(e.append("id",s.ParamID),e.append("source_user_id",s.UserID),new XMLHttpRequest);t.withCredentials=!0,t.addEventListener("readystatechange",function(){this.readyState}),t.open("POST",s.ApiUrl+"/seller/plugin-api/incr-pv"),t.send(e)}-1==t.indexOf("?")?console.error("partnershare_script：无ID参数"):(t=t.substr(1),strs=t.split("="),s.ParamID=strs[1],window.PartnershareSuccess&&window.PartnershareSuccess(),(t=window.localStorage.getItem("partnershare_sdk_data"))?(t=JSON.parse(t),s.UserID=t.UserID,s.StartTime=t.StartTime,s.close=t.close,s.submit=t.submit):(t=URL.createObjectURL(new Blob),e=t.toString(),URL.revokeObjectURL(t),s.UserID=e.substring(e.lastIndexOf("/")+1).replace(/-/g,""),s.StartTime=(new Date).getTime(),window.localStorage.setItem("partnershare_sdk_data",JSON.stringify(s))),s.submit||d())}();